
#### __gRPC__ - фреймворк/набор инструментов/платформа от Google(исходный код открыт в 2015 году), который по факту реализует [[RPC]]

![[gRPC_schema.png]]
Популярен в микросервисной платформе в качестве общения между сервисами
![[gRPC_diff.png]]
![[gRPC_ptotobuf.png]]
##### Бинарный формат данных - __protobuf__
##### За счет двоичного формата данных хорошо сжимается и имеет строгую типизацию

![[gRPC_protofile.png]]

После написания `.proto` файла он прогоняется через `protoc(компилятор)` который уже выдаст готовый код на большинстве популярных ЯП.

**Определение API**:

- Создаётся `.proto`-файл, где описываются:
    
    - **Сервисы** (набор методов)
        
    - **Типы сообщений** (структуры данных)
        
- Пример:

```
service UserService {
  rpc GetUser (UserRequest) returns (UserResponse);
}
message UserRequest {
  int32 id = 1;
}
message UserResponse {
  string name = 1;
  string email = 2;
}
```


 #### **Генерация кода**:
    
    - Компилятор `protoc` генерирует:
        
        - Клиентские и серверные **заглушки (stubs)**
            
        - Классы для сериализации/десериализации
            
    - Поддерживаемые языки: Go, Python, Java, C++, JavaScript, Ruby и др.
        
#### **2. Типы вызовов**

|Тип вызова|Описание|Пример использования|
|---|---|---|
|**Unary RPC**|Один запрос → один ответ|Получение данных пользователя|
|**Server Streaming**|Один запрос → поток ответов|Отправка логов в реальном времени|
|**Client Streaming**|Поток запросов → один ответ|Загрузка большого файла|
|**Bidirectional**|Двусторонний поток|Чат, онлайн-игры|

#### **3. Производительность**

- **Бинарный Protobuf**:
    
    - Размер сообщений в **2-10 раз меньше** JSON
        
    - Скорость сериализации **в 5-100 раз выше**
        
- **HTTP/2**:
    
    - Мультиплексирование (много запросов в одном соединении)
        
    - Приоритизация трафика
        
    - Server Push