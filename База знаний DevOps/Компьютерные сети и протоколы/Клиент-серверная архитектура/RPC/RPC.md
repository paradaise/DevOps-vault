![[RPC_flow.png]]

 ###  __RPC (Remote Procedure Call)__
#### **Что это?**

**RPC** — это способ вызвать функцию или метод на удалённом сервере так, будто она выполняется локально.

🔹 **Клиент** вызывает функцию → **сервер** её выполняет → возвращает результат.  
🔹 Работает на разных протоколах: **HTTP (REST, GraphQL), gRPC, WebSockets, SOAP**.

---

### **Как работает?**

1. **Клиент** отправляет запрос: _"Выполни функцию `getUser(id=5)`"_.
    
2. **Сервер** находит эту функцию, запускает её и возвращает результат.
    
3. **Клиент** получает ответ, как будто функция работала у него.
    

---

### **Основные виды RPC**

1. **JSON-RPC** – простой текстовый формат (JSON).
    
2. **gRPC** – бинарный протокол от Google (быстрый, на **HTTP/2**).
    
3. **XML-RPC (SOAP)** – устаревший, на XML.
    

---

### **Плюсы**

✅ **Простота** – вызываем методы, а не разбираем HTTP-ответы.  
✅ **Эффективность** (особенно у **gRPC** – бинарный протокол + сжатие).  
✅ **Подходит для микросервисов** – сервисы общаются как обычные функции.

---

### **Минусы**

❌ **Жёсткая связь клиент-сервер** – если сервер меняет API, клиент ломается.  
❌ **Сложнее кэшировать**, чем REST.  
❌ **Не все RPC-протоколы поддерживают браузеры** (например, gRPC требует прокси).

---

### **Где используется?**

- **Микросервисная архитектура** (сервисы вызывают методы друг друга).
    
- **Высоконагруженные системы** (gRPC в Kubernetes, Cloud-API).
    
- **Игры и real-time приложения** (WebSockets + RPC).
    

---

### **RPC vs REST**

|Критерий|RPC|REST (HTTP API)|
|---|---|---|
|**Подход**|Вызов функций|Работа с ресурсами (`/users`, `/posts`)|
|**Гибкость**|Жёсткая схема|Более свободный формат|
|**Скорость**|Быстрее (gRPC)|Медленнее (текст/JSON)|
|**Кэширование**|Сложнее|Проще (кешируются URL)|

**Вывод:**

- **RPC** — для сложных систем, где важна скорость и контроль.
    
- **REST** — для публичных API и веб-приложений.

👉 **Примеры RPC-фреймворков:** gRPC, Apache Thrift, JSON-RPC, XML-RPC.