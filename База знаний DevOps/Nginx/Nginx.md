###### *Nginx* - это веб-сервер, основная задача которого:
###### - Проксирование запросов
###### - Обратное проксирование запросов(Reverse Proxy)
###### - Роутинг(Навигация)
###### - Ридерект(Переадресация)
###### - Компрессия файлов( сжатие данных)
###### - Отдача контента(как статики так и динамики)
##### - Управление несколькими доменами на 1 IP адресе


##### Основной конфигурационный файл: ```/etc/nginx/nginx.conf```



``` 
location / {

	root /etc/nginx/nginx_test/;

	index index.html index.htm;

}
```


###### *__Директива root__* - путь до папки со статическим контентом
###### *__Директива index__* - определяет отдаваемые файлы и их приоритет( левее - больше), является опциональной

  


```
location / {

return 301 https://google.com;

}
```

##### __*Сжатие(gzip)*__ - nginx сжимает файлы, далее браузер уже сам их разжимает

```
http {
	gzip on; //включаем сжатие

	gzip_types application/javascript; //тип файлов для сжатие(MIME)

	gzip_comp_level 6; //Уровень сжатия

}
```


##### __*Проксирование*__ - по факту передача запросов (заголовки, тело) ЧЕРЕЗ nginx к приложению( он выступает посредником )


```
http {
	upstream api { #Балансировщик нагрузки между серверами `1111` и `2222`.

		server localhost:1111; #приложения которые будут получать запрос

		server localhost:2222; #приложения которые будут получать запрос

  }
}
```

```
server {
location /api {
	proxy_pass http://api/; # Перенаправляет запросы `/api` на upstream-серверы.
	 # проксирование по умолчанию Robin Round(по очереди)
  }
}
```

##### __*nginx -t*__ - проверить валидность синтаксиса конфига и сделать тест конфигурации 
##### *nginx -s reload* - перезапуск сервиса (для применения конфига)


| Директива                                   | Описание                                              |
| ------------------------------------------- | ----------------------------------------------------- |
| `worker_processes 1;`                       | Количество рабочих процессов (лучше `auto` для CPU).  |
| `worker_connections 1024;`                  | Максимум соединений на 1 процесс.                     |
| `error_log /var/log/nginx/error.log warn;`  | Путь до файла с логами с ошибками доступа к service.  |
| `access_log /var/log/nignx/access.log;`<br> | Путь до файла с логами с успешным доступом к service. |
|                                             |                                                       |


